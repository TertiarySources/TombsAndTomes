<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Library Dungeon Crawler</title>
        <link rel="stylesheet" href="style.css">
        <script src="//code.jquery.com/jquery-1.10.2.js"></script>
        <script> 
            $(function(){
                $("#header").load("header.html"); 
                $("#footer").load("footer.html"); 
            });
        </script> 

        <script>
            var obj, dbParam, xmlhttp, x, txt = "";
            obj = { "table":"hero_instance", "limit":10 };
            dbParam = JSON.stringify(obj);
            xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    myObj = JSON.parse(this.responseText);
                    for (x in myObj) {
                        txt += myObj[x].session_id + "<br>";
                        txt += myObj[x].session_name + "<br>";
                    }
                    document.getElementById("demo").innerHTML = txt;
                }

                setTimeout(
                    function() {
                        alert(myObj[0].session_update);
                    },
                    1500
                );

            };
            //xmlhttp.open("GET", "jsondb.php?x=" + dbParam, true);
            //xmlhttp.send();
            
            xmlhttp.open("POST", "jsondb.php", true);
            xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            //xmlhttp.send("x=" + dbParam);
            xmlhttp.send();
        </script>

    </head>
    <body>
        <div id="header"></div>
        
        <div id="content">

            <p>The JSON received from the PHP file:</p>
            <p id="demo"></p>

        </div>

        <div id="footer"></div>
    </body>
</html>